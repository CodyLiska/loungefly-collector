{{!-- Welcome Section --}}
<div class="bg-gradient-to-r from-primary/5 to-secondary/5 rounded-3xl p-8 mb-8">
  <h1 class="text-3xl font-bold text-gray-900 mb-2">
    <span class="bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">
      Welcome {{name}} </span>ðŸ‘‹    
  </h1>
  <p class="text-gray-600">Here's an overview of your Loungefly collection</p>
</div>

{{#if hasBackpacks}}
  {{!-- Stats Grid --}}
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
    <div class="bg-white p-6 rounded-2xl shadow-sm">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold text-gray-900">Total Backpacks</h3>
        <span class="text-primary"><i class="fas fa-backpack"></i></span>
      </div>
      <p class="text-3xl font-bold text-gray-900">{{stats.total}}</p>
    </div>
    <div class="bg-white p-6 rounded-2xl shadow-sm">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold text-gray-900">Owned</h3>
        <span class="text-green-600"><i class="fas fa-check-circle"></i></span>
      </div>
      <p class="text-3xl font-bold text-green-600">{{stats.owned}}</p>
    </div>
    <div class="bg-white p-6 rounded-2xl shadow-sm">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold text-gray-900">Wishlist</h3>
        <span class="text-blue-600"><i class="fas fa-heart"></i></span>
      </div>
      <p class="text-3xl font-bold text-blue-600">{{stats.wishlist}}</p>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
    {{!-- Recently Added Section --}}
    <div class="bg-white p-6 rounded-2xl shadow-sm">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-xl font-bold text-gray-900">Recently Added</h2>
        <a href="/backpacks" class="text-sm text-primary hover:text-primary/80">View All</a>
      </div>
      <div class="space-y-4">
        {{#each recentlyAdded}}
          <div class="flex items-center space-x-4 p-3 rounded-xl hover:bg-gray-50">
            <img src="{{newBackpackModel.image}}" alt="{{newBackpackModel.backpackName}}" class="w-16 h-16 object-cover rounded-lg">
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-gray-900 truncate">{{newBackpackModel.backpackName}}</p>
              <p class="text-sm text-gray-500">{{newBackpackModel.seriesCollection}}</p>
              <p class="text-xs text-gray-400">Added {{formatDate addedAt "MMM Do YYYY"}}</p>
            </div>
            <div class="flex-shrink-0">
              {{#if owned}}
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                  Owned
                </span>
              {{else}}
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                  Wishlist
                </span>
              {{/if}}
            </div>
          </div>
        {{/each}}
      </div>
    </div>

    {{!-- Top Series Section --}}
    <div class="bg-white p-6 rounded-2xl shadow-sm">
      <h2 class="text-xl font-bold text-gray-900 mb-6">Top Series</h2>
      <div class="space-y-4">
        {{#each topSeries}}
          <div class="flex items-center justify-between p-3 rounded-xl hover:bg-gray-50">
            <span class="text-sm font-medium text-gray-900">{{newBackpackModel.seriesCollection}}</span>
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
              {{count}} backpack{{#unless (eq count 1)}}s{{/unless}}
            </span>
          </div>
        {{/each}}
      </div>
    </div>
  </div>

  {{!-- Quick Actions --}}
  <div class="mt-8 flex flex-wrap gap-4">
    <a 
      href="/backpacks" 
      class="inline-flex items-center px-6 py-3 text-sm font-medium text-white bg-gradient-to-r from-primary to-secondary rounded-xl hover:shadow-md transition-all duration-200"
    >
      <i class="fas fa-th-large mr-2"></i> View Collection
    </a>
    <a 
      href="/backpacks/search" 
      class="inline-flex items-center px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all duration-200"
    >
      <i class="fas fa-search mr-2"></i> Find More
    </a>
  </div>

{{else}}
  {{!-- Empty State --}}
  <div class="text-center py-16 bg-white rounded-2xl shadow-sm">
    <div class="text-gray-400 mb-6">
      <i class="fas fa-box-open text-7xl"></i>
    </div>
    <h3 class="text-xl font-semibold text-gray-900 mb-2">Start Your Collection</h3>
    <p class="text-gray-600 mb-8">Begin your Loungefly journey by adding your first backpack!</p>
    <div class="flex justify-center gap-4">
      <a 
        href="/backpacks/search" 
        class="inline-flex items-center px-6 py-3 text-sm font-medium text-white bg-gradient-to-r from-primary to-secondary rounded-xl hover:shadow-md transition-all duration-200"
      >
        <i class="fas fa-search mr-2"></i> Find Backpacks
      </a>
      <a 
        href="/backpacks/add" 
        class="inline-flex items-center px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all duration-200"
      >
        <i class="fas fa-plus mr-2"></i> Add Manually
      </a>
    </div>
  </div>
{{/if}}